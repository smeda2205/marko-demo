'use strict';

var Assert = require('assert');
var Querystring = require('querystring');

module.exports = {
    generateName: function generateName(identity, identitySpec) {
        Assert.ok(identity, 'Identity must be specified, like (pool, clientid, operation, service, etc.)');
        var keys = Object.keys(identity);
        Assert.ok(keys.length, 'Identity must be specified, like (pool, clientid, operation, service, etc.)');

        // sort it first
        return identitySpec.reduce(function reduce(memo, key) {
            memo += (memo ? '.' : '') + (identity[key] || 'unknown');
            return memo;
        }, '');
    }
};
