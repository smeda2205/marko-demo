'use strict';

var chai = require('chai');
chai.config.includeStack = true;
require('chai').should();
var chai = require('chai');
var assert = chai.assert;

describe('global-header-ebay/services', function () {

    beforeEach(function (done) {
        done();
    });


    it('should generate a footer query without categoryId and get good footer response when there is the categoryId is empty', function (done) {

        var services = require('../lib/services');
        var params = {
            app: 'colweb',
            human: false,
            siteId: 77,
            secure: true,
            factors: ['aa', 'ab'],
            pageId: 123,
            pool: 'colweb',
            language: 'de_DE',
            theme: 'my-theme',
            layout: 'FULL',
            categoryId: ''
        };

        services.loadFooter(params, function(err, result) {
            assert.ok(!err);
            assert.ok(result);
            assert.ok(result.html);
            assert.include(result.html, '<div id="glbfooter"');
            done();
        });

        // done();

    });


});
