'use strict';
var assert = require('assert');

var colo = require('../index').coloDetect;
var coloMx = require('../index').coloMxDetect;
var res;

describe('index', function () {

	it('simple ebay slc test', function (next) {
		res = colo('test.slc.ebay.com');
		assert.equal('slc',  res);
		next();
	});
	it('simple ebay phx test', function (next) {
		res = colo('test.phx.ebay.com');
		assert.equal('phx', res);
		next();
	});
	it('error test', function (next) {
    process.env.NODE_ENV = 'production';
		res = colo('slc.ebay.com');
    assert.ok(res === '');
		next();
	});

  it('simple ebay slc MX test', function (next) {
	process.env.NODE_ENV = 'production';
    res = coloMx('test.slc.ebay.com');
    assert.equal('mx.vip.ebay.com',  res);
    next();
  });
  it('simple ebay phx MX test', function (next) {
	process.env.NODE_ENV = 'production';
    res = coloMx('test.phx.ebay.com');
    assert.equal('mx.vip.ebay.com',  res);
    next();
  });
  it('simple ebay qa MX test', function (next) {
	process.env.NODE_ENV = 'staging';
    res = coloMx('test.phx.ebay.com');
    assert.equal('mx.vip.qa.ebay.com',  res);
    next();
  });
  it('simple ebay qa MX test', function (next) {
	process.env.NODE_ENV = 'staging';
    res = coloMx('test.slc.ebay.com');
    assert.equal('mx.vip.qa.ebay.com',  res);
    next();
  });

});
