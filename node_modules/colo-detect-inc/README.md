colo-detect-inc [![Build Status](https://ebayci.qa.ebay.com/CI-Instance/buildStatus/icon?job=colo-detect-inc)](https://ebayci.qa.ebay.com/CI-Instance/job/colo-detect-inc) 
===============

Module that determines the datacenter where the code is running. Should never be used by an
application to determine behavior as apps must remain datacenter independent. A valid use
is for reporting metrics data in the infrastructure to all drilling down by datacenter to
isolate problems. It can also determine the MX (Mail Exchanger) SMTP gateway.

# Installation

```
npm install colo-detect-inc --save
```

# Usage

```
var detector = require('colo-detect-inc');
var colo = detector.coloDetect();
var coloMx = detector.coloMxDetect();
```

Ideally, you should call this once and keep the result as
calling a shell operation is not the most efficient thing.
Note that there are heuristics in use here. For ebay, the general
hostname -f form is host.xxx.ebay.com where the result
will be the xxx part.

Mail gateway values are as follows:
```
eBay Production:   mx.vip.ebay.com
eBay Staging:   mx.vip.qa.ebay.com
```
