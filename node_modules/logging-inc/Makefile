BASE = .
REPORTER = spec
JSHINT = ./node_modules/.bin/jshint

all : lint test

test:
	@NODE_ENV=test DEBUG=dlogger* ./node_modules/.bin/mocha \
		--require chai \
		--reporter $(REPORTER) \
		--timeout 15s \
		test/*.js
lint:
	$(JSHINT) ./lib --config $(BASE)/.jshintrc && \
	$(JSHINT) ./test --config $(BASE)/.jshintrc

.PHONY: test
