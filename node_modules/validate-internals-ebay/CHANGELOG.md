# ChangeLog

## Next
* Added hystrix-dashboard
* Added server status per https://github.corp.ebay.com/nodejs/validate-internals-ebay/issues/75

## v4.0.2
* Added Service Status List on Component List

## v4.0.1
* Add missing connection tester package.

## v4.0.0
* Remove peer and unwanted dependencies and upgrade dependencies

## v0.0.69
* Should not fail when a worker port for an inter-worker communication is taken
* Added rounding of CPU usage

## v0.0.68
* Fixed segmentation fault at the end of heap dump with latest v8-profiler
* Mapped errorCount from stats.esp to stats.errorCount sent to PerfMon CAL channel

## v0.0.67
* Added `VPC` & `PaaSRealm` information in Validate Internals
* Added troubleshooting page

## v0.0.66
* Added security related metrics (`xss`, `csrf`, `redirection` etc) to log to Sherlock

## v0.0.65
* Added an pi to return host list of dependency services

## v0.0.64
* Added `x-ebay-akamai-9`  header check for `allowView` & `allowUpdate` to protect from IP address hack.

## v0.0.63
* Fixed missing attributes like `Environment` in XSL

## v0.0.62
* Picking up the latest version of xapth

## v0.0.61
* Added: Escaping html data to display appmeta in component status

## v0.0.60
* Corrected host information component name for SEC tool to fetch it correctly

## v0.0.59
* Added Feature to reset `ebay.kernel.ServeTraffic` bean value to `TrafficEnabled` on startup.

## v0.0.58
* Added CAL HeartBeat for Server Restart event
* Fixed: errors per second metrics should be rounded https://jirap.corp.ebay.com/browse/NODE-475 and https://github.corp.ebay.com/nodejs/validate-internals-ebay/issues/43
* Exposed: vi app for brogan to hook up to
* Removed: explicit express dependency
* Added: 'EAR Re-start time at' for SEC integration
* Added: xpath support, example:
```
/admin/v3console/ValidateInternals2?component=hostinformation&forceXml=true&xpath=ValidateInternals/Component%5B@name=%27Host%20Information%27%5D/Properties/Property%5B@name=%27Container%27
```

## v0.0.57
* Some images were missing after the last publish. Re-publishing to make sure they are there.

## v0.0.56
* Security Issue Fixed: Should not read file other than `logs` folder
* e.g Should fail to load this url http://phx5qa01c-a9ba.stratus.phx.qa.ebay.com:8080/admin/v3console/logs?logfile=../index.js
* Switched to `utils-ebay` `getRemoteAddr()` instead of custom method.

## v0.0.55
* Added protection against running more than one CPU profiling that could crash the worker.

## v0.0.54
* Removed unused dependencies

## v0.0.53
* accepting integers for markup/markdown
* removing 'usage' dep and removing 'heapdump', instead using 'v8-profiler'

## v0.0.52
* Adding functionality to get dependency tree as part of VI

## v0.0.51
* Fixed XSLT parse errors in Firefox and Chrome browsers

## v0.0.50
* VI UI changes for CPU and Memory profiling

## v0.0.49
* Changed SERVICE_STATUS to SVC_CHANNEL_STATUS

## v0.0.48
* Added flame charts to heap dump page

## v0.0.47
* Removed dependency on commons-ebay to fix circular dependency problem.

## v0.0.43 - v0.0.46
* Moved vague peerDependencies to dev dependency to avoid breaking peerDependencies

## v0.0.42
* Added `HeapDump` &  `CpuProfile` in ValidateInternals page.
* Added 2 new urls in VI page `/admin/v3console/heapdump` & `/admin/v3console/cpuprofile`

## v0.0.41
* Node 4.0 - Upgraded `usage` & `npm` versions

## v0.0.40
* Enhancement : Allowed `update config data` to work on `HTTP POST`

## v0.0.39
* Added `Environment` for `NODE_ENV` as part of ValidateInternals page

## v0.0.38
* Switched environment-inc to environment-ebay

## v0.0.37
* update syntax for res.send(body, status)

## v0.0.36
* Fixed: TPS and Transaction time are not showing in CAL

## v0.0.35
* Fixed: Rendering `ThreadResource` XSL rendering. [JIRA](https://jirap.corp.ebay.com/browse/XOAPP-12335)

## v0.0.34
* Fixed: should not allow changing prod VI from non-RC boxes

## v0.0.33
* Moved hostip-checker-ebay to peerDependency

## v0.0.32
* Fixed bug for showing BuildId in ValidateInternals page (POLYGLOT-1218)
