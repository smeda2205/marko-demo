var aTableIds = [];
var oTables = {};
 
$(document).ready(function() {
 if (typeof initPage == 'function'){initPage();}
    
 var sTableId = undefined;
 var $tableId = undefined;
 var oTable = undefined;
 var i = 0;
   
 $(".componentTable").each(function () {
  aTableIds.push(this.id);
 });

 if (aTableIds) {
  for (i = 0; i < aTableIds.length; i++) {
   sTableId = aTableIds[i];
   $tableId = $("#" + sTableId);
   if (!$tableId) {
    if (window.console) console.error("No table found with id = '" + sTableId + "'!");
   } else {
    oTable = $tableId.dataTable({
     "bJQueryUI": true,
     "bProcessing" : true,
     "bPaginate": false, 
     "bScrollCollapse": true, 
     "bServerSide": false
    });
    oTables[sTableId] = oTable;
    $tableId.addClass("display");
      
    $d = $("#" + sTableId + "_filter");      
    if ($d && $("#" + sTableId + "_title")) {
     $d.before($("#" + sTableId + "_title"));
    }
   }
  }
    
  $(window).bind('resize', function () {
   moreTopMenu();
   if (!aTableIds) return false;
   for (i = 0; i < aTableIds.length; i++) {
    sTableId = aTableIds[i];
    if (!sTableId) continue;
    oTable = oTables[sTableId];
    if (!oTable) continue;
    oTable.fnAdjustColumnSizing(true);
   } 
   return true;
  });
 }

 var $table = $("#scrollableComponentTableId");
 var oTable1 = undefined;
 if ($table) {
  $table.addClass("display");
  oTable1 = $table.dataTable({
   "bJQueryUI": true,
   "bPaginate": true,
   "sScrollX": "100%",
   "bScrollCollapse": true
  });
    
  $d = $("#scrollableComponentTableId_length");
  if ($d && $("#scrollableComponentTableId_title")) {
   $d.before($("#scrollableComponentTableId_title"));
  }
   
  $(window).bind('resize', function () {
   if (!oTable1) return false;
   oTable1.fnAdjustColumnSizing(true);
   return true;
  });
 }
    
 var $dstable = $("#dsTableId");
 var dsoTable = undefined;
 if ($dstable) {
  $dstable.addClass("display");
  dsoTable = $dstable.dataTable({
   "bJQueryUI": true,
   "bPaginate": true,
   "sScrollX": "100%",
   "bScrollCollapse": true,
   bStateSave: true,
   iDisplayLength: 25,
   "fnDrawCallback": function() {
	if ( $.browser.msie ) {
     $('#dsTableId_info').after($('#dsTableId_paginate'));
	}	
   }
  });
    
  $d = $("#dsTableId_length");
  if ($d && $("#dsTableId_title")) {
   $d.before($("#dsTableId_title"));
  }
   
  if ( $.browser.msie ) {
   $d = $('#dsTableId_info');
   if ($d && $('#dsTableId_paginate')) {
    $d.after($('#dsTableId_paginate'));
   }
  }
   
  $(window).bind('resize', function () {
   if (!dsoTable) return false;
   dsoTable.fnAdjustColumnSizing(true);
   return true;
  });
 }   
    
 var $xtable = $("#allScrollableTableId");
 var xTable = undefined;
 if ($xtable) {
  $xtable.addClass("display");
  xTable = $xtable.dataTable({
   "bJQueryUI": true,
   "bPaginate": false,
   "sScrollX": "100%",
   "bScrollCollapse": true,
   "sScrollY": 400
  });

  $d = $("#allScrollableTableId_filter");
  if ($d && $("#allScrollableTableId_title")) {
   $d.before($("#allScrollableTableId_title"));
  }
   
  $(window).bind('resize', function () {
   if (!xTable) return false;
   xTable.fnAdjustColumnSizing(true);
   return true;
  });
 }
    
 initTopMenu();
});
