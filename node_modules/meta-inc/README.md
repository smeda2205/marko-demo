meta-inc [![Build Status](https://ebayci.qa.ebay.com/CI-Instance/buildStatus/icon?job=meta-inc)](https://ebayci.qa.ebay.com/CI-Instance/job/meta-inc) 
========

Middleware module to allow seeing information about the configuration and running stats for an application from within the corporate firewall. Also supports ECV checks.

It adds these following URLS in a PayPal app:

1. /meta - Shows the application Metadata information in JSON format. e.g. https://www.stage2XXX.qa.paypal.com/ABC_NODE_APP/meta
2. /ecv - Used by OPS to ping the app. It shows if PayPal app is handling requests.

For Marketplaces apps, the corresponding URLs are:

1. /admin/v3console/meta - Uses ValidateInternals to show application Metadata information in JSON format. e.g. http://host:8080/admin/v3console/meta
2. ECV checking is handled by ValidateInternals, not by meta

# Installation

```
npm install meta-inc --save
```

# Usage

This module operates as middleware and will normally be automatically included in the auto-supplied middleware
stack supplied from the meddleware configuration. It requires no parameters so if you need to register it
manually you would do:


```javascript
var meta = require('meta-inc');
app.use(meta());
```

## Advanced
The task of building the metadata model is separate so different controllers in MarketPlaces and PayPal
can share that logic. If you want the model for some other purpose, you can obtain it using:

```javascript
    var metaModel = require('meta-inc/lib/metaModel');
    var model = {};
    metaModel.getModel(req, res, model, function (err, model) {
        // Do something with the model in this callback
    });
```
