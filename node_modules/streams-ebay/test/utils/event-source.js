'use strict';


var EventSource = module.exports.EventSource = function EventSource() {
    this.type;
    this.id;
    this.name;
    this.value;
    this.comment;
};

EventSource.prototype = {
    write: function(ctx) {
        if (this.comment) {
            ctx.write(' : ' + this.comment + '\n');
        }
        switch (this.type) {
            case 'event':
                ctx.write('event: ' + this.name + '\n');
                break;
            default:
                break;
        }
        ctx.write('id: ' + (this.id || Date.now()) + '\n');
        ctx.write('retry: 0' + '\n');
        if (this.value) {
            ctx.write('data: ' + JSON.stringify(this.value));
        }
        ctx.write('\n\n');
    }
};